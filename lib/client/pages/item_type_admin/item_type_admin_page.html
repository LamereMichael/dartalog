<!--
  Copyright (c) 2015, <your name>. All rights reserved. Use of this source code
  is governed by a BSD-style license that can be found in the LICENSE file.
-->

<!-- import polymer-element's definition -->
<dom-module name="item-type-admin-page">
    <link rel="stylesheet" href="item_type_admin_page.css">

    <template>
        <paper-card heading="Item Types" style="margin:8px;" class="vertical layout">
            <div class="card-content">
                <template is="dom-repeat" items="{{itemTypes}}">
                    <paper-item horizontal on-tap="itemTypeClicked" data-id$="{{item.id}}" class="flex">{{item.name}}</paper-item>
                </template>
            </div>
        </paper-card>

        <paper-dialog id="editDialog" modal="true">
            <h2>Edit Item Type</h2>
            <paper-dialog-scrollable class="vertical">
                <paper-input floatinglabel id="input_id" label="ID" value="{{currentItemType.id}}"></paper-input>
                <paper-input floatinglabel id="input_name" label="Name" value="{{currentItemType.name}}"></paper-input>

                <template is="dom-repeat" items="{{currentItemType.fieldIds}}">
                    <paper-item class="container flex-horizontal" data-id$="{{item}}">
                        <div class="flexchild">{{item}}</div>
                        <paper-icon-button icon="arrow-upward" on-tap="upClicked"></paper-icon-button>
                        <paper-icon-button icon="arrow-downward" on-tap="downClicked"></paper-icon-button>
                        <paper-icon-button icon="delete" on-tap="removeFieldClicked"></paper-icon-button>
                    </paper-item>
                </template>

                <paper-dropdown-menu id="input_fieldIds" floatinglabel label="Field">
                    <paper-listbox class="dropdown-content " attr-for-selected="value" selected="{{selectedField}}">
                        <template is="dom-repeat" items="{{fields}}">
                            <paper-item value="{{item.id}}">{{item.name}}</paper-item>
                        </template>
                    </paper-listbox>
                </paper-dropdown-menu>

                <paper-icon-button icon="add" on-tap="addFieldClicked"></paper-icon-button>
                </paper-dialog-scrollable>
            <span id="output_error" style="color:red"></span>
            <div class="buttons">
                <paper-button on-tap="saveClicked">Save</paper-button>
                <paper-button on-tap="cancelClicked">Cancel</paper-button>
            </div>
        </paper-dialog>
    </template>
</dom-module>

